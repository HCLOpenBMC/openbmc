From 61a320aca92e6e58a1a0de8bc63f74bc042feed8 Mon Sep 17 00:00:00 2001
From: Manikandan Elumalai <manikandan.hcl.ers.epl@gmail.com>
Date: Thu, 26 Mar 2020 20:16:47 +0530
Subject: [PATCH] Yosemite-device-tree

---
 .../boot/dts/aspeed-bmc-facebook-yosemitev2.dts    | 97 +++++++++++++++++++++-
 1 file changed, 96 insertions(+), 1 deletion(-)

diff --git a/arch/arm/boot/dts/aspeed-bmc-facebook-yosemitev2.dts b/arch/arm/boot/dts/aspeed-bmc-facebook-yosemitev2.dts
index 6c44abf..f7c223e 100644
--- a/arch/arm/boot/dts/aspeed-bmc-facebook-yosemitev2.dts
+++ b/arch/arm/boot/dts/aspeed-bmc-facebook-yosemitev2.dts
@@ -4,7 +4,7 @@
 
 #include "aspeed-g5.dtsi"
 #include <dt-bindings/gpio/aspeed-gpio.h>
-
+#include <dt-bindings/i2c/i2c.h>
 / {
 	model = "Facebook Yosemitev2 BMC";
 	compatible = "facebook,yosemitev2-bmc", "aspeed,ast2500";
@@ -13,6 +13,7 @@
 	};
 	chosen {
 		stdout-path = &uart5;
+		bootargs = "console=ttyS4,57600 earlyprintk";
 	};
 
 	memory@80000000 {
@@ -49,11 +50,100 @@
 	};
 };
 
+&uart1 {
+	// Host1 Console
+	status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_txd1_default
+		     &pinctrl_rxd1_default>;
+};
+
+&uart2 {
+	// Host2 Console
+	status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_txd2_default
+		     &pinctrl_rxd2_default>;
+
+};
+
+&uart3 {
+	// Host3 Console
+	status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_txd3_default
+		     &pinctrl_rxd3_default>;
+};
+
+&uart4 {
+	// Host4 Console
+	status = "okay";
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_txd4_default
+		     &pinctrl_rxd4_default>;
+};
+
 &uart5 {
 	// BMC Console
 	status = "okay";
 };
 
+&vuart {
+	// Virtual UART
+	status = "okay";
+};
+
+
+
+
+&i2c1 {
+	//Host1 NIC bus
+	status = "okay";
+        multi-master;
+	ipmb0@10 {
+		compatible = "ipmb-dev";
+		reg = <(0x10 | I2C_OWN_SLAVE_ADDRESS)>;
+		i2c-protocol;
+	};
+};
+
+
+&i2c3 {
+	//Host1 NIC bus
+	status = "okay";
+        multi-master;
+	ipmb0@10 {
+		compatible = "ipmb-dev";
+		reg = <(0x10 | I2C_OWN_SLAVE_ADDRESS)>;
+		i2c-protocol;
+	};
+};
+
+
+&i2c5 {
+	//Host1 NIC bus
+	status = "okay";
+        ipmb0@10 {
+		compatible = "ipmb-dev";
+		reg = <(0x10 | I2C_OWN_SLAVE_ADDRESS)>;
+		i2c-protocol;
+	};
+};
+
+&i2c7 {
+	//Host1 NIC bus
+	status = "okay";
+        ipmb0@10 {
+		compatible = "ipmb-dev";
+		reg = <(0x10 | I2C_OWN_SLAVE_ADDRESS)>;
+		i2c-protocol;
+	};
+};
+
+
+
+
+
 &mac0 {
 	status = "okay";
 	pinctrl-names = "default";
@@ -135,6 +225,11 @@
 	};
 };
 
+&i2c12 {
+	//Debug card
+	status = "okay";
+};
+
 &pwm_tacho {
 	status = "okay";
 	//FSC
-- 
2.7.4

